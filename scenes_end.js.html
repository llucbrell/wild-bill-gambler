<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: scenes/end.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: scenes/end.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {score} from '../index.js';

/**
 * The class for the Scene called End
 * @class End
 * @extends Phaser.Scene
 * @see https://newdocs.phaser.io/docs/3.55.2/Phaser.Scene
 */
export class End extends Phaser.Scene {
    constructor(amount){
        super({key:'end',active:false});
        this.amount = score.getScore();
    }

    /**
     * Init the values every time the scene runs
     */
    init(){
        this.amount = score.getScore();
    }

    /**
     * Cache memory preload for images 
     */
    preload(){
        this.load.image(`button`, '../static/button.png');
    }

    /**
     * Executed when the scene starts. Set the cards
     */
    create(){
        //add text and score
        let text = this.add.text(0, 0, `Win amount ${this.amount}`, { fontFamily: 'Georgia, "Goudy Bookletter 1911", Times, serif' });
        //text.setScale(5)

        //set the button background image and text
        let button=this.add.image(610,460, 'button');
        let buttonText = this.add.text( 570, 450, `SHUFFLE`, { fontFamily: 'Georgia, "Goudy Bookletter 1911", Times, serif' });
        button.setScale(0.25);
        // set the listener
        button.setInteractive();
        // relate the listener and the custom handler
        this.input.on('gameobjectdown', this.onClickButton.bind(this));
    }

    /**
     * Custom handler for gameobjectdown over button, stops the 'end' scene and restart the 'game' scene
     * @param {Phaser.Input.Pointer} pnt Pointer to the clicked object
ou can play [the game](./game/index.html) or read the test [conclusions](./../tutorials/conclusion.md).     * @see https://newdocs.phaser.io/docs/3.55.0/Phaser.Input.Pointer
     * @param {Phaser.GameObjects.Image} btn Image Object of the button
     * @see https://newdocs.phaser.io/docs/3.54.0/Phaser.GameObjects.Image
     */
    onClickButton(pnt, btn){
        this.scene.stop();
        const sceneGame = this.scene.get('game');
        //comment the next line to have an accumulative score
        score.scoreToZero('somejsontoken');
        sceneGame.scene.restart();
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="Phaser.html">Phaser</a></li></ul><h3>Classes</h3><ul><li><a href="End.html">End</a></li><li><a href="Game.html">Game</a></li><li><a href="Phaser.Scene.html">Scene</a></li><li><a href="Score.html">Score</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-conclusion.html">Technical Test Conclusions</a></li><li><a href="tutorial-deploy.html">Getting Started</a></li></ul><h3>Global</h3><ul><li><a href="global.html#config">config</a></li><li><a href="global.html#game">game</a></li><li><a href="global.html#score">score</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Wed Jul 21 2021 19:57:02 GMT+0200 (GMT+02:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
